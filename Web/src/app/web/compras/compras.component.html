<div class="sector gris min-vh pb-5">
<div class="container">
    <div class="row">
      <div class="col-md-12">
        <h3 class=" mt-5"><b>Carro de compras</b></h3>
        <h4 class="mt-3">Cantidad de productos: <b>{{this.srvCompra.carrito.Detalle.length}}</b></h4>
      </div>
    </div>
    <div class="carro mt-3">
      
      <div class="detalle" *ngIf="this.srvCompra.carrito.Detalle.length>0">
        <ng-container  *ngFor='let detalle of this.srvCompra.carrito.Detalle'>
        <div class="listadoitems">
          <div class="row mb-5">
            <div class="col-md-9">
              <div class="row">
                <div class="col-md-5">
                  <div class="foto" style="background-image: url({{assets}}assets/actividades/{{detalle.ActividadesEntity.Fotos.split(',')[0]}});">
                      <div class="cancelacion" *ngIf="detalle.ActividadesEntity.CancelacionGratuita">Cancelación gratuita</div>
                  </div>
                </div>
                <div class="col-md-7">
                    <div class="info mt-2"  role="button">
                        <h4>{{detalle.ActividadesEntity.Nombre}}</h4>  
                        <b>Ubicación:</b> {{detalle.ActividadesEntity.Ubicacion}}<br>
                        <b>Duracion:</b> {{detalle.ActividadesEntity.Duracion}} minutos<br>
                        <b>Fecha y Hora:</b> {{detalle.FechaHora | date:'dd/MM/yyyy hh:mm'}}<br>
                        <b>Cantidad:</b> {{detalle.Cantidad}}<br>
                    </div>
                    <div class="row mt-3">
                      <div class="col-md-12">
                        <button class="btn btn-dark btn-lg me-2" (click)="borrarproducto(detalle)">Eliminar</button>
                        <button class="btn btn-dark btn-lg me-2" (click)="cambiar(detalle)">Cambiar datos</button>
                        
                      </div>
                      
                    </div>
                </div>
              </div>
            
              
            </div>
            <div class="col-md-3 border-start">
              <div class="row">
                
                <div class="col-md-12 col-12">
                  <div class="precio">
                    <div class="row">
                      <div class="col-md-6 col-6">
                        precio unitario
                      </div>
                      <div class="col-md-6 col-6 text-end">
                        $ {{detalle.ActividadesEntity.PrecioOferta!=null? detalle.ActividadesEntity.PrecioOferta:detalle.ActividadesEntity.Precio |  number:'':'es-Es'}}
                      </div>
                    </div>
                  </div>
                  <div class="precio noborder">
                    <div class="row">
                      <div class="col-md-6 col-6">
                        <small>precio</small>
                      </div>
                      <div class="col-md-6 col-6 text-end">
                        ${{detalle.ActividadesEntity.PrecioOferta!=null? detalle.ActividadesEntity.PrecioOferta * detalle.Cantidad :detalle.ActividadesEntity.Precio * detalle.Cantidad |  number:'':'es-Es'}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
          </div>
          
          
        </div>
        </ng-container>
        <div class="pie mt-3 mb-5">
          <div class="row">
            <div class="col-md-9">
              <div class="form-group mt-3">
                <label for="exampleInputUsername1"><b>Observaciones</b></label>
                <textarea [(ngModel)]="this.srvCompra.carrito.Comentarios" name="Comentarios" class="form-control" id="exampleInputUsername1" placeholder="Observaciones"></textarea>
              </div>
            </div>
            <div class="col-md-3">
              <div class="row">
                <div class="col-md-12">
                  <div class="totales">
  
                    <div class="totalfinal">
                      <div class="row">
                        <div class="col-md-6 col-6">
                          <p class="grande"><b>TOTAL</b></p>
                        </div>
                        <div class="col-md-6 col-6 text-end">
                          <p class="grande"> <b>$ {{this.srvCompra.getTotal() |  number:'':'es-Es'}}</b></p>
                        </div>
                      </div>
                    </div>
                    <a (click)="Actualizar()" class="btn btn-success mb-3 mt-3 btn-lg w-100">PROCEDER A LA COMPRA</a>
                    <a [routerLink]="['/']" class="btn btn-primary btn-lg w-100">SEGUIR COMPRANDO</a>
                  </div>
                </div>
              </div>
  
            </div>
          </div>
        </div>
      </div>
      <div class="detalle text-center " *ngIf="this.srvCompra.carrito.Detalle.length==0">
        <div class="row">
          <div class="col-md-8 offset-md-2">
            <h3 class="mt-5">Carro de compra vacío. <br> <b>Descubrí cuál actividad es para vos.</b></h3>
            <a [routerLink]="['/']" class="btn btn-primary mt-3 mb-5 btn-lg">Buscar actividad</a>
          </div>
        </div>
  
      </div>
    </div>
  </div>
</div>